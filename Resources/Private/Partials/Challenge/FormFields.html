<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<label for="title">
    <f:translate key="tx_chapted_domain_model_challenge.title"/>
    <span class="required">(required)</span>
</label><br/>
<f:form.textfield class="form-control" property="title"/><br/>
<label for="description">
    <f:translate key="tx_chapted_domain_model_challenge.description"/>
    <span class="required">(required)</span>
</label><br/>
<f:form.textfield id="editor" class="form-control" property="description"/><br/>
<label for="reckoning">
    <f:translate key="tx_chapted_domain_model_challenge.reckoning"/>
</label><br/>
<f:form.textfield type="number" class="form-control" property="reckoning"/><br/>
<label for="likes">
    <f:translate key="tx_chapted_domain_model_challenge.likes"/>
</label><br/>
<f:form.textfield type="number" class="form-control" property="likes"/><br/>
<label for="winningPoint">
    <f:translate key="tx_chapted_domain_model_challenge.winning_point"/>
</label><br/>
<f:form.textfield type="number" class="form-control" property="winningPoint"/><br/>
<label for="latitude">
    <f:translate key="tx_chapted_domain_model_challenge.latitude"/>
</label><br/>
<f:asset.script identifier="geocoding">
    const options = {
    enableHighAccuracy: true,
    timeout: 5000,
    maximumAge: 0
    };

    function success(pos) {
    const crd = pos.coords;
    let longitude = document.getElementById('longitude');
    let latitude = document.getElementById('latitude');
    latitude.setAttribute('value', crd.latitude);
    longitude.setAttribute('value', crd.longitude);
    }
    function error(err) {
    console.warn(`ERROR(${err.code}): ${err.message}`);
    }

    navigator.geolocation.getCurrentPosition(success, error, options);
</f:asset.script>
<f:form.textfield id="latitude" type="number" additionalAttributes="{step:'0.01'}"   class="form-control" property="latitude"/><br/>
<label for="longitude">
    <f:translate key="tx_chapted_domain_model_challenge.longitude"/>
</label><br/>
<f:form.textfield id="longitude" additionalAttributes="{step:'0.01'}"  class="form-control" property="longitude"/><br/>
</html>